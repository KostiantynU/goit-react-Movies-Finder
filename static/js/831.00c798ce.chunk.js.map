{"version":3,"file":"static/js/831.00c798ce.chunk.js","mappings":"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","sources":["components/ListOfFilms/ListOfFilms.styled.js","components/ListOfFilmsItem.jsx/ListOfFilmsItem.styled.js","components/ListOfFilmsItem.jsx/ListOfFilmsItem.jsx","components/ListOfFilms/ListOfFilms.jsx","components/Searchbar/searchbar.styled.js","components/Searchbar/Searchbar.jsx","pages/MovieSearch/MoviesSearch.styled.js","pages/MovieSearch/MoviesSearch.jsx","services/API.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from 'styled-components';\nexport const ListOfFilm = styled.ul`\n  margin-top: 15px;\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const ListOfFilmItem = styled.li`\n  margin-bottom: 5px;\n  :nth-child(2n + 1) {\n    background-color: rgb(245, 251, 252);\n  }\n`;\nexport const StyledLinkForItem = styled(Link)`\n  font-size: 15px;\n`;\n","import PropTypes from 'prop-types';\nimport { ListOfFilmItem } from './ListOfFilmsItem.styled';\nimport { StyledLinkForItem } from './ListOfFilmsItem.styled';\nimport { useLocation } from 'react-router-dom';\n\nfunction ListOfFilmsItem({ originalTitle, movieId }) {\n  const location = useLocation();\n  return (\n    <ListOfFilmItem>\n      <StyledLinkForItem to={`/moviedetails/${movieId}`} state={{ from: location }}>\n        {originalTitle}\n      </StyledLinkForItem>\n    </ListOfFilmItem>\n  );\n}\n\nexport default ListOfFilmsItem;\n\nListOfFilmsItem.propTypes = {\n  originalTitle: PropTypes.string.isRequired,\n  movieId: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { ListOfFilm } from './ListOfFilms.styled';\nimport ListOfFilmsItem from 'components/ListOfFilmsItem.jsx/ListOfFilmsItem';\n\nfunction ListOfFilms({ arrayFilms }) {\n  return (\n    <ListOfFilm>\n      {arrayFilms?.map(({ id, original_title }) => (\n        <ListOfFilmsItem\n          key={id}\n          originalTitle={original_title}\n          movieId={`${id}`}\n        ></ListOfFilmsItem>\n      ))}\n    </ListOfFilm>\n  );\n}\nexport default ListOfFilms;\n\nListOfFilms.propTypes = {\n  arrayFilms: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import styled from 'styled-components';\nexport const WrapperForm = styled.form`\n  display: flex;\n  gap: 10px;\n`;\nexport const StyledInput = styled.input`\n  width: 40vw;\n  padding: 5px 10px;\n  background-color: rgb(232, 247, 250);\n  border-radius: 4px;\n  border: 1px solid rgb(73, 203, 230);\n  &:focus-within {\n    outline: none;\n  }\n`;\nexport const StyledButton = styled.button`\n  padding: 10px 15px;\n  border-radius: 4px;\n  border: none;\n  background: rgb(73, 203, 230);\n  &:hover,\n  &:focus {\n    background: rgb(165, 235, 250);\n    color: rgb(6, 76, 92);\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { WrapperForm, StyledInput, StyledButton } from './searchbar.styled';\n\nfunction Searchbar({ handleSubmit }) {\n  return (\n    <WrapperForm onSubmit={evt => handleSubmit(evt)}>\n      <StyledInput type=\"text\" name=\"search\" />\n      <StyledButton type=\"submit\">Search</StyledButton>\n    </WrapperForm>\n  );\n}\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\nexport const MainTitle = styled.h2`\n  margin: 0.5em;\n`;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport ListOfFilms from 'components/ListOfFilms/ListOfFilms';\nimport { searchMovies } from 'services/API';\nimport { MainTitle } from './MoviesSearch.styled';\n\nfunction MoviesSearch() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchArr, setSearchArr] = useState([]);\n  const [totalResults, setTotalResults] = useState(1);\n  const filterText = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!filterText) return;\n    searchMovies(filterText).then(response => {\n      setTotalResults(response.total_results);\n      setSearchArr([...response.results]);\n      console.log(totalResults);\n    });\n  }, [filterText, totalResults]);\n\n  // const updateQueryString = query => {\n  //   const nextParams = query !== '' ? { query } : {};\n  //   setSearchParams(nextParams);\n  // };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const query = evt.target.elements.search.value;\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n    evt.target.reset();\n    // updateQueryString('');\n  };\n\n  // const filteredArr = searchArr.filter(el =>\n  //   el.original_title.toLowerCase().includes(filterText.trim().toLowerCase())\n  // );\n\n  return (\n    <div>\n      <MainTitle>Movie search</MainTitle>\n      <Searchbar handleSubmit={handleSubmit} value={filterText} />\n      {totalResults !== 0 ? (\n        <ListOfFilms arrayFilms={searchArr} />\n      ) : (\n        <p style={{ margin: '0.5em' }}>There are no results!</p>\n      )}\n    </div>\n  );\n}\nexport default MoviesSearch;\n","const API_KEI = 'api_key=01e602e077bffb2dd10fabcf093ebced';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst TREND_DAY = 'trending/movie/day';\nexport const IMAGE_PATH = 'https://image.tmdb.org/t/p/w300';\n\nexport async function getMovies() {\n  return await fetch(`${BASE_URL}${TREND_DAY}?${API_KEI}`)\n    .then(response => response.json())\n    .catch(err => console.log(err));\n}\nexport async function getMovie(movieId) {\n  return await fetch(`${BASE_URL}movie/${movieId}?${API_KEI}&language=en-US`)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\nexport async function getCredits(movieId) {\n  return await fetch(`${BASE_URL}movie/${movieId}/credits?${API_KEI}&language=en-US`)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\nexport async function getReview(movieId) {\n  return await fetch(`${BASE_URL}movie/${movieId}/reviews?${API_KEI}&language=en-US&page=1`)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\nexport async function searchMovies(query) {\n  return await fetch(`${BASE_URL}search/movie?${API_KEI}&query=${query}`)\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["ListOfFilm","styled","ListOfFilmItem","StyledLinkForItem","Link","originalTitle","movieId","location","useLocation","to","state","from","arrayFilms","map","id","original_title","WrapperForm","StyledInput","StyledButton","handleSubmit","onSubmit","evt","type","name","MainTitle","useSearchParams","searchParams","setSearchParams","useState","searchArr","setSearchArr","totalResults","setTotalResults","filterText","get","useEffect","searchMovies","then","response","total_results","results","console","log","preventDefault","query","target","elements","search","value","reset","ListOfFilms","style","margin","API_KEI","BASE_URL","TREND_DAY","IMAGE_PATH","getMovies","fetch","json","catch","err","getMovie","error","getCredits","getReview","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined"],"sourceRoot":""}